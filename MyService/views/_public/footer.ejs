<script type="text/javascript" src="/js/plugin/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="/js/plugin/jquery.cookie.js"></script>
<script type="text/javascript" src="/js/plugin/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/plugin/ejs.min.js"></script>
<script type="text/javascript" src="/js/plugin/md5.js"></script>
<script type="text/javascript" src="/js/plugin/socket.io/socket.io.js"></script>
<script type="text/javascript" src="/js/plugin/My97DatePicker/WdatePicker.js"></script>

<script type="text/javascript" src="/js/config.js?v=<%=version%>"></script>
<script type="text/javascript" src="/js/extend.js?v=<%=version%>"></script>
<script type="text/javascript" src="/js/socket.js?v=<%=version%>"></script>
<script type="text/javascript">
    $(function () {
        ejs.open = '{%';
        ejs.close = '%}';

        var userInfo = $.cookie(config.cacheKey.userInfo);
        if(!userInfo){
            userInfo = extend.guid();
        }
        $.cookie(config.cacheKey.userInfo, userInfo, { expires: 30 });

        socket.init();
    });
    //

    function namespace(namespace) {
        var list = namespace.split('.');
        var ns = window[list[0]];
        if (!ns)
            ns = window[list[0]] = {};
        for (var i = 1; i < list.length; i++) {
            var ns_next = ns[list[i]];
            if (!ns_next)
                ns[list[i]] = {};
            else if (i == list.length - 1)
                throw new Error('namespace [' + namespace + '] is exist!');
            ns = ns[list[i]];
        }
        return ns;
    }
</script>
</body>
</html>